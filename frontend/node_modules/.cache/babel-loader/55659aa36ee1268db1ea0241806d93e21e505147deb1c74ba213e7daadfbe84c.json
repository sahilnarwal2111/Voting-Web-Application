{"ast":null,"code":"import axios from 'axios';\n\n// Create axios instance with base URL\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:8080/api',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to headers if it exists in localStorage\nif (localStorage.token) {\n  api.defaults.headers.common['Authorization'] = `Bearer ${localStorage.token}`;\n}\n\n// Response interceptor for error handling\napi.interceptors.response.use(response => response, error => {\n  const {\n    response\n  } = error;\n\n  // Handle specific error cases\n  if (response && response.status === 401) {\n    // Unauthorized - clear token\n    localStorage.removeItem('token');\n    delete api.defaults.headers.common['Authorization'];\n  }\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","headers","localStorage","token","defaults","common","interceptors","response","use","error","status","removeItem","Promise","reject"],"sources":["/Users/sahilnarwal/Documents/Sem-8/Major Project/Pro/frontend/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Create axios instance with base URL\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:8080/api',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to headers if it exists in localStorage\nif (localStorage.token) {\n  api.defaults.headers.common['Authorization'] = `Bearer ${localStorage.token}`;\n}\n\n// Response interceptor for error handling\napi.interceptors.response.use(\n  response => response,\n  error => {\n    const { response } = error;\n\n    // Handle specific error cases\n    if (response && response.status === 401) {\n      // Unauthorized - clear token\n      localStorage.removeItem('token');\n      delete api.defaults.headers.common['Authorization'];\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;EACrEC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACA,IAAIC,YAAY,CAACC,KAAK,EAAE;EACtBR,GAAG,CAACS,QAAQ,CAACH,OAAO,CAACI,MAAM,CAAC,eAAe,CAAC,GAAG,UAAUH,YAAY,CAACC,KAAK,EAAE;AAC/E;;AAEA;AACAR,GAAG,CAACW,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC3BD,QAAQ,IAAIA,QAAQ,EACpBE,KAAK,IAAI;EACP,MAAM;IAAEF;EAAS,CAAC,GAAGE,KAAK;;EAE1B;EACA,IAAIF,QAAQ,IAAIA,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;IACvC;IACAR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;IAChC,OAAOhB,GAAG,CAACS,QAAQ,CAACH,OAAO,CAACI,MAAM,CAAC,eAAe,CAAC;EACrD;EAEA,OAAOO,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,eAAed,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}